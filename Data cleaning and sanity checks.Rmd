title: "Eye tracking Workshop CogSci Fall 2022"
subtitle: "Data cleaning and sanity checks"
author: "Fabio Trecca"
date: "8/12/2022"
output: html_document
---

```{r setup, include=FALSE}
require(knitr)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
```

# Load in the data
```{r}
Samples <- read_csv("~/Dropbox/Undervisning/9_EF2021/Eye tracking lab/Exercises/data/Samples.csv")
Fixations <- read_csv("~/Dropbox/Undervisning/9_EF2021/Eye tracking lab/Exercises/data/Fixations.csv")
Saccades <- read_csv("~/Dropbox/Undervisning/9_EF2021/Eye tracking lab/Exercises/data/Saccades.csv")
```

# Sanity checks

The first thing we want to do is to run some sanity checks on the data to make sure everything is in order

```{r}
## Check distribution of raw samples. Is everything alright?
hist(Samples$PositionX)
hist(Samples$PositionY)

summary(Samples$PositionX)
summary(Samples$PositionY)
```

If needed, remove artifacts and other "illegal" data points.

```{r}
Samples <- Samples %>% 
  filter(
    PositionX <= 1680,
    PositionY <= 1050,
    PositionX >= 0,
    PositionY >= 0
  )
```


## Check distribution of no. of fixations and fixation duration

```{r}
Fixations %>% 
  group_by(ParticipantID, Trial) %>% 
  summarize(Duration = mean(Duration), Task = Task[1]) %>% 
  ggplot(., aes(Duration, fill = Task, color = Task)) + geom_density(alpha = .5)
```

Make sure that nothing looks funky in the data!

## Check distribution of no. of saccades and saccade length

```{r}
hist(Saccades[Saccades$Task=="Search",]$Amplitude)
hist(Saccades[Saccades$Task=="Count",]$Amplitude)

ggplot(Saccades, aes(Amplitude, fill = Task)) + geom_histogram() + theme_bw()
```

## Check distribution of pupil sizes in fixations

```{r}
ggplot(Fixations, aes(PupilSize, color = ParticipantID)) + geom_density(alpha = .5) + theme_bw()
```

## Check distribution of Time variable. Notice anything weird?

```{r}
hist(Samples$Time)
```

Let's also do some outlier checks:

```{r}
## Check for outliers in fixation duration using a boxplot

```

```{r}
## Check for outliers in saccade length using a boxplot

```
